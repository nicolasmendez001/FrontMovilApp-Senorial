<ion-content>
  <ion-item>
    <ion-title class="ion-text-center">Servicios realizados</ion-title>
  </ion-item>
  <ion-card *ngIf="services.length == 0">
    <ion-card-content>
      <p class="ion-text-center" style="font-size: 80%">*No tiene servicios realizados
        registrados</p>
    </ion-card-content>
  </ion-card>
  <ion-list *ngFor="let item of services">
    <ion-card>
      <ion-card-header>
        <ion-card-title class="ion-text-center">
          {{item.nombreCategoria}}
        </ion-card-title>
        <ion-card-subtitle>
          <strong>Fecha:</strong> {{item.fecha_servicio}}
        </ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <p>Dirección: {{item.direccion}}</p>
        </ion-item>
        <ion-item>
          <h2>Valor ${{item.valor}}</h2>
        </ion-item>
        <ion-item *ngIf='item.comentario == ""'>
          <ion-list>
            <ion-item>
              <ion-button (click)="btnAddComment(item)">
                <ion-icon name="add" slot="end"></ion-icon>
                Añadir comentario
              </ion-button>
            </ion-item>
            <ion-item *ngIf="item.addComment">
              <ion-list>
                <ion-item>
                  <ion-label position="floating">Comentario:</ion-label>
                  <ion-textarea [(ngModel)]="comment" placeholder="Ingresar comentario..."></ion-textarea>
                </ion-item>
                <ion-button (click)="saveComment(item)">
                  Guardar
                </ion-button>
              </ion-list>
            </ion-item>

          </ion-list>
        </ion-item>
        <ion-card *ngIf='item.comentario != ""'>
          <ion-card-header>
            <ion-card-subtitle>
              Comentario:
            </ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <ion-item>
              {{item.comentario}}
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>